---
title: 手写 instanceof
desc: 手写 instanceof。
label:
  - JavaScript
  - 手撕代码
date: 2022-07-14
---

## 手写 instanceof

```js
function myInstanceOf(target, origin) {
  if (typeof target !== 'object' || target === null) return false;
  let proto = Object.getPrototypeOf(target);
  // 循环遍历目标对象的原型链
  while (proto) {
    // 判断target的原型是否是origin的实例对象
    if (proto === origin.prototype) {
      // 是，则返回true
      return true;
    }
    // 否则让target等于其原型
    target = Object.getPrototypeOf(proto);
  }
  // 若target的原型不存在了，则返回false
  return false;
}

// 测试
let a = [1, 2, 3];
console.log(myInstanceOf(a, Array)); // true
console.log(myInstanceOf(a, Object)); // true
console.log(myInstanceOf(a, Number)); // false
```

<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>定义绘图组件 | 路遥知码力</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/vitepress-blog/assets/style.DW4L-YK9.css" as="style">
    <link rel="preload stylesheet" href="/vitepress-blog/vp-icons.css" as="style">
    
    <script type="module" src="/vitepress-blog/assets/app.CEid4Eh4.js"></script>
    <link rel="preload" href="/vitepress-blog/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/vitepress-blog/assets/chunks/theme.BDurUVPt.js">
    <link rel="modulepreload" href="/vitepress-blog/assets/chunks/framework.C8gPwPr5.js">
    <link rel="modulepreload" href="/vitepress-blog/assets/TechBlogs_GIS_OpenLayers_vue3_vite_openlayers绘制图形.md.CpLwl_Q4.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-2f6df5c1><!--[--><!--]--><!--[--><span tabindex="-1" data-v-72bbbc9a></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-72bbbc9a>Skip to content</a><!--]--><!----><header class="VPNav" data-v-2f6df5c1 data-v-29ab6cd8><div class="VPNavBar" data-v-29ab6cd8 data-v-9a55e4e2><div class="wrapper" data-v-9a55e4e2><div class="container" data-v-9a55e4e2><div class="title" data-v-9a55e4e2><div class="VPNavBarTitle has-sidebar" data-v-9a55e4e2 data-v-702e9481><a class="title" href="/vitepress-blog/" data-v-702e9481><!--[--><!--]--><!----><span data-v-702e9481>路遥知码力</span><!--[--><!--]--></a></div></div><div class="content" data-v-9a55e4e2><div class="content-body" data-v-9a55e4e2><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9a55e4e2><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9a55e4e2 data-v-89eaaf44><span id="main-nav-aria-label" class="visually-hidden" data-v-89eaaf44> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vitepress-blog/" tabindex="0" data-v-89eaaf44 data-v-53b94acc><!--[--><span data-v-53b94acc>主页</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-89eaaf44 data-v-80c6298e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-80c6298e><span class="text" data-v-80c6298e><!----><span data-v-80c6298e>技术博客</span><span class="vpi-chevron-down text-icon" data-v-80c6298e></span></span></button><div class="menu" data-v-80c6298e><div class="VPMenu" data-v-80c6298e data-v-630fab3a><div class="items" data-v-630fab3a><!--[--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/TechBlogs/GIS/" data-v-1436fc63><!--[--><span data-v-1436fc63>GIS</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/TechBlogs/Electron/" data-v-1436fc63><!--[--><span data-v-1436fc63>Electron</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/TechBlogs/Others/" data-v-1436fc63><!--[--><span data-v-1436fc63>其他</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-89eaaf44 data-v-80c6298e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-80c6298e><span class="text" data-v-80c6298e><!----><span data-v-80c6298e>前端知识</span><span class="vpi-chevron-down text-icon" data-v-80c6298e></span></span></button><div class="menu" data-v-80c6298e><div class="VPMenu" data-v-80c6298e data-v-630fab3a><div class="items" data-v-630fab3a><!--[--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/FrontEnd/JavaScript/" data-v-1436fc63><!--[--><span data-v-1436fc63>JavaScript</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/FrontEnd/HTML/" data-v-1436fc63><!--[--><span data-v-1436fc63>HTML</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/FrontEnd/CSS/" data-v-1436fc63><!--[--><span data-v-1436fc63>CSS</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/FrontEnd/TypeScript/" data-v-1436fc63><!--[--><span data-v-1436fc63>TypeScript</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/FrontEnd/Vue/" data-v-1436fc63><!--[--><span data-v-1436fc63>Vue</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/FrontEnd/React/" data-v-1436fc63><!--[--><span data-v-1436fc63>React</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-89eaaf44 data-v-80c6298e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-80c6298e><span class="text" data-v-80c6298e><!----><span data-v-80c6298e>后端知识</span><span class="vpi-chevron-down text-icon" data-v-80c6298e></span></span></button><div class="menu" data-v-80c6298e><div class="VPMenu" data-v-80c6298e data-v-630fab3a><div class="items" data-v-630fab3a><!--[--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/BackEnd/Node/" data-v-1436fc63><!--[--><span data-v-1436fc63>Node</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/BackEnd/Nest/" data-v-1436fc63><!--[--><span data-v-1436fc63>Nest</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/BackEnd/Express/" data-v-1436fc63><!--[--><span data-v-1436fc63>Express</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/BackEnd/Mysql/" data-v-1436fc63><!--[--><span data-v-1436fc63>Mysql</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/BackEnd/Java/" data-v-1436fc63><!--[--><span data-v-1436fc63>Java</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vitepress-blog/CodeTear/" tabindex="0" data-v-89eaaf44 data-v-53b94acc><!--[--><span data-v-53b94acc>手撕代码</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-89eaaf44 data-v-80c6298e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-80c6298e><span class="text" data-v-80c6298e><!----><span data-v-80c6298e>源码学习</span><span class="vpi-chevron-down text-icon" data-v-80c6298e></span></span></button><div class="menu" data-v-80c6298e><div class="VPMenu" data-v-80c6298e data-v-630fab3a><div class="items" data-v-630fab3a><!--[--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/SourceCode/Vue/" data-v-1436fc63><!--[--><span data-v-1436fc63>Vue</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vitepress-blog/Algorithm/" tabindex="0" data-v-89eaaf44 data-v-53b94acc><!--[--><span data-v-53b94acc>算法学习</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-89eaaf44 data-v-80c6298e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-80c6298e><span class="text" data-v-80c6298e><!----><span data-v-80c6298e>计算机基础</span><span class="vpi-chevron-down text-icon" data-v-80c6298e></span></span></button><div class="menu" data-v-80c6298e><div class="VPMenu" data-v-80c6298e data-v-630fab3a><div class="items" data-v-630fab3a><!--[--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/ComputerKnowledge/ComputerNetwork/" data-v-1436fc63><!--[--><span data-v-1436fc63>计算机网络</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-630fab3a data-v-1436fc63><a class="VPLink link" href="/vitepress-blog/ComputerKnowledge/BrowserKnowledge/" data-v-1436fc63><!--[--><span data-v-1436fc63>浏览器</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9a55e4e2 data-v-0390cd43><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-0390cd43 data-v-bab01ea0 data-v-b791495b><span class="check" data-v-b791495b><span class="icon" data-v-b791495b><!--[--><span class="vpi-sun sun" data-v-bab01ea0></span><span class="vpi-moon moon" data-v-bab01ea0></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9a55e4e2 data-v-039e120c data-v-9d0b0f27><!--[--><a class="VPSocialLink no-icon" href="https://github.com/CodingAndSleeping" aria-label="github" target="_blank" rel="noopener" data-v-9d0b0f27 data-v-2ebe60bd><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9a55e4e2 data-v-9c705977 data-v-80c6298e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-80c6298e><span class="vpi-more-horizontal icon" data-v-80c6298e></span></button><div class="menu" data-v-80c6298e><div class="VPMenu" data-v-80c6298e data-v-630fab3a><!----><!--[--><!--[--><!----><div class="group" data-v-9c705977><div class="item appearance" data-v-9c705977><p class="label" data-v-9c705977>Appearance</p><div class="appearance-action" data-v-9c705977><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-9c705977 data-v-bab01ea0 data-v-b791495b><span class="check" data-v-b791495b><span class="icon" data-v-b791495b><!--[--><span class="vpi-sun sun" data-v-bab01ea0></span><span class="vpi-moon moon" data-v-bab01ea0></span><!--]--></span></span></button></div></div></div><div class="group" data-v-9c705977><div class="item social-links" data-v-9c705977><div class="VPSocialLinks social-links-list" data-v-9c705977 data-v-9d0b0f27><!--[--><a class="VPSocialLink no-icon" href="https://github.com/CodingAndSleeping" aria-label="github" target="_blank" rel="noopener" data-v-9d0b0f27 data-v-2ebe60bd><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9a55e4e2 data-v-dce8aa1a><span class="container" data-v-dce8aa1a><span class="top" data-v-dce8aa1a></span><span class="middle" data-v-dce8aa1a></span><span class="bottom" data-v-dce8aa1a></span></span></button></div></div></div></div><div class="divider" data-v-9a55e4e2><div class="divider-line" data-v-9a55e4e2></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-2f6df5c1 data-v-93a665f5><div class="container" data-v-93a665f5><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-93a665f5><span class="vpi-align-left menu-icon" data-v-93a665f5></span><span class="menu-text" data-v-93a665f5>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-93a665f5 data-v-81651972><button data-v-81651972>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-2f6df5c1 data-v-d84fd246><div class="curtain" data-v-d84fd246></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-d84fd246><span class="visually-hidden" id="sidebar-aria-label" data-v-d84fd246> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-e8284694><section class="VPSidebarItem level-0 has-active" data-v-e8284694 data-v-f0a1ac4c><!----><div class="items" data-v-f0a1ac4c><!--[--><section class="VPSidebarItem level-1 has-active" data-v-f0a1ac4c data-v-f0a1ac4c><div class="item" role="button" tabindex="0" data-v-f0a1ac4c><div class="indicator" data-v-f0a1ac4c></div><h3 class="text" data-v-f0a1ac4c>Openlayers</h3><!----></div><div class="items" data-v-f0a1ac4c><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f0a1ac4c data-v-f0a1ac4c><div class="item" data-v-f0a1ac4c><div class="indicator" data-v-f0a1ac4c></div><a class="VPLink link link" href="/vitepress-blog/TechBlogs/GIS/OpenLayers/vue3+vite+openlayers%E6%9E%84%E5%BB%BA%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%9C%B0%E5%9B%BE.html" data-v-f0a1ac4c><!--[--><p class="text" data-v-f0a1ac4c>vue3+vite+openlayers构建第一个地图</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f0a1ac4c data-v-f0a1ac4c><div class="item" data-v-f0a1ac4c><div class="indicator" data-v-f0a1ac4c></div><a class="VPLink link link" href="/vitepress-blog/TechBlogs/GIS/OpenLayers/vue3+vite+openlayers%E6%B7%BB%E5%8A%A0%E5%9C%B0%E5%9B%BE%E5%9F%BA%E6%9C%AC%E6%8E%A7%E4%BB%B6.html" data-v-f0a1ac4c><!--[--><p class="text" data-v-f0a1ac4c>vue3+vite+openlayers添加地图基本控件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f0a1ac4c data-v-f0a1ac4c><div class="item" data-v-f0a1ac4c><div class="indicator" data-v-f0a1ac4c></div><a class="VPLink link link" href="/vitepress-blog/TechBlogs/GIS/OpenLayers/vue3+vite+openlayers%E7%BB%98%E5%88%B6%E5%9B%BE%E5%BD%A2.html" data-v-f0a1ac4c><!--[--><p class="text" data-v-f0a1ac4c>vue3+vite+openlayers绘制图形</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-f0a1ac4c data-v-f0a1ac4c><div class="item" role="button" tabindex="0" data-v-f0a1ac4c><div class="indicator" data-v-f0a1ac4c></div><h3 class="text" data-v-f0a1ac4c>MapServer</h3><!----></div><div class="items" data-v-f0a1ac4c><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f0a1ac4c data-v-f0a1ac4c><div class="item" data-v-f0a1ac4c><div class="indicator" data-v-f0a1ac4c></div><a class="VPLink link link" href="/vitepress-blog/TechBlogs/GIS/MapServer/%E5%9F%BA%E4%BA%8Emapserver%E7%9A%84%E5%88%87%E7%89%87%E7%BC%93%E5%AD%98%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%EF%BC%88mapchache.xml%E6%96%87%E4%BB%B6%EF%BC%89.html" data-v-f0a1ac4c><!--[--><p class="text" data-v-f0a1ac4c>基于mapserver的切片缓存服务配置（mapchache.xml文件）</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-2f6df5c1 data-v-8473d1e0><div class="VPDoc has-sidebar has-aside" data-v-8473d1e0 data-v-c8799d48><!--[--><!--]--><div class="container" data-v-c8799d48><div class="aside" data-v-c8799d48><div class="aside-curtain" data-v-c8799d48></div><div class="aside-container" data-v-c8799d48><div class="aside-content" data-v-c8799d48><div class="VPDocAside" data-v-c8799d48 data-v-dbde1ef8><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-dbde1ef8 data-v-150e1fd6><div class="content" data-v-150e1fd6><div class="outline-marker" data-v-150e1fd6></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-150e1fd6>On this page</div><ul class="VPDocOutlineItem root" data-v-150e1fd6 data-v-143870d5><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-dbde1ef8></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-c8799d48><div class="content-container" data-v-c8799d48><!--[--><!--]--><main class="main" data-v-c8799d48><div style="position:relative;" class="vp-doc _vitepress-blog_TechBlogs_GIS_OpenLayers_vue3+vite+openlayers%E7%BB%98%E5%88%B6%E5%9B%BE%E5%BD%A2" data-v-c8799d48><div><h1 id="定义绘图组件" tabindex="-1">定义绘图组件 <a class="header-anchor" href="#定义绘图组件" aria-label="Permalink to &quot;定义绘图组件&quot;">​</a></h1><blockquote><p>openlayer绘制图形主要使用<code>ol/interaction/Draw</code>类，通过<code>map.addInteraction()</code>实现交互式绘制图形.</p></blockquote><p><strong>由于是使用vue开发的项目，因此，我将绘图工具封装成了一个组件，通过传递事件的方式实现子组件给父组件传值，先看一下<code>DrawFeature.vue</code>。主要功能包括绘制点、折线、曲线、圆形、正方形、矩形、规则多边形、不规则多边形以及取消绘制和清除功能。</strong></p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// DrawFeature.vue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;drawFeature&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;绘制图形&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">select</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;select&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;featureName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> disabled</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> selected</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;null&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;请选择&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Point&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;点&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;LineString&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;折线&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Curve&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;曲线&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Circle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;圆形&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Square&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;正方形&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Rectangle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;矩形&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Polygon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;规则多边形&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ArbPolygon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;不规则图形&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cancelDraw&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cancelDraw&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;取消绘制&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clearFeature&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;clearFeature&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;清除&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// DrawFeature</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.vue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lang=&quot;less&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.drawFeature</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">113</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    position</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">fixed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    top</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    right</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    background-color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#7C9ABE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    outline</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> solid</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> rgba</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">255</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">255</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">255</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    border-radius</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    z-index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    // 标题样式</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#f0f0f0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        text-align</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    // 选择框样式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    .select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        display</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">block</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        margin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> auto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        border</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">none</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    // 按钮样式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    .clearFeature</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    .cancelDraw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        margin-top</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        text-align</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        border-radius</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        background-color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#F6F5F1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        cursor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pointer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">style</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><strong>vue3接收父组件传递过来的事件通过<code>defineEmits()</code>来接收，返回的函数可以直接调用，通过传递事件名和参数来触发事件。</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// DrawFeature.vue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import { ref, watch } from &#39;vue&#39;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">const emits = defineEmits([&quot;drawInteraction&quot;]); // 接收事件 </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 绘制图形的类型名</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">const featureName = ref(null);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 监听类型名的变化，发生变化时提交事件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">watch(featureName, newVal =&gt; {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (newVal) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        emits</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;drawInteraction&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">newVal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 取消绘制</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">function cancelDraw() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    featureName.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 类型名置空</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    emits</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;drawInteraction&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Cancel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 提交事件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 清空绘制的图形</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">function clearFeature() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    featureName.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 类型名置空</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    emits</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;drawInteraction&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Clear&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 提交事件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h1 id="父组件绘制图形" tabindex="-1">父组件绘制图形 <a class="header-anchor" href="#父组件绘制图形" aria-label="Permalink to &quot;父组件绘制图形&quot;">​</a></h1><p><strong>通过自定义事件的方式接受子组件传递过来的类型名</strong></p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// Home.vue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">draw-feature</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> @drawInteraction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;drawInteraction&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">draw-feature</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>在地图上添加一个矢量图层，作为绘图的图层</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 初始化一个矢量图层</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vectorLayer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VectorLayer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Vector&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">map.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 存放地图的容器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    target: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mapDiv&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 设置图层</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    layers: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // osm图层</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        OSMLayer.value,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 天地图图层</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        tianLayer.value,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 矢量图层</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        vectorLayer.value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 设置视图</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    view: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> View</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        center: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">113.300839</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">23.048857</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 中心点坐标</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        zoom: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 缩放等级</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        projection: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;EPSG:4326&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 坐标系</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span></code></pre></div><p><strong>初始化所要用到的ol类库，封装绘图函数</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Home.vue</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 创建一个空的Draw</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> draw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 初始化矢量图层</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vectorLayer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 定义一个geometryFunction</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> geometryFunction;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 封装绘制图形函数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> drawFea</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">draw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">layer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">source</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">geometryFunction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">freehand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 判断source是否为空，若为空，创建一个VectorSource对象，并设置为矢量图层的源</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">source.value) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        source.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VectorSource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            wrapX: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        layer.value.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setSource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(source.value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 创建绘图工具</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    draw.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Draw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        type, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 绘制图形类型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        source: source.value, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 绘制的目标源</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        geometryFunction, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 绘图的几何函数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        freehand </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 绘图时鼠标点击后是否松手进行绘制</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 给地图添加绘图交互</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    map.value.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addInteraction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(draw.value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>定义事件触发时调用的函数，通过判断类型名，进行不同的处理。</strong></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Home.vue</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 绘图事件函数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> drawInteraction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">val</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (draw.value) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 判断draw是否为空，若不为空移除上一个绘图交互</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        map.value.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeInteraction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(draw.value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (val) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Cancel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 取消绘制</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Clear&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 清空绘制</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            vectorSource.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 矢量图层源置空</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            vectorLayer.value.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setSource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(vectorSource.value); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 设置空的矢量图层源</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Curve&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 绘制曲线</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            drawFea</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map, draw, vectorLayer, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;LineString&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, vectorSource, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ArbPolygon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 绘制不规则图形</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            drawFea</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map, draw, vectorLayer, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Polygon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, vectorSource, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Square&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 绘制正方形</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // 定义一个4条边的多边形几何函数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            geometryFunction </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createRegularPolygon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            drawFea</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map, draw, vectorLayer, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Circle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, vectorSource, geometryFunction, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Rectangle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 绘制矩形</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // 定义一个矩形几何函数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            geometryFunction </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createBox</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            drawFea</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map, draw, vectorLayer, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Circle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, vectorSource, geometryFunction, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 绘制点、圆、折线、规则多边形</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            geometryFunction </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            drawFea</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map, draw, vectorLayer, val, vectorSource, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><img src="https://raw.githubusercontent.com/CodingAndSleeping/picgo/master/%E7%BB%98%E5%88%B6%E5%9B%BE%E5%BD%A2.png" alt="绘制图形"></p></div></div></main><footer class="VPDocFooter" data-v-c8799d48 data-v-4f4b2eff><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-4f4b2eff><span class="visually-hidden" id="doc-footer-aria-label" data-v-4f4b2eff>Pager</span><div class="pager" data-v-4f4b2eff><a class="VPLink link pager-link prev" href="/vitepress-blog/TechBlogs/GIS/OpenLayers/vue3+vite+openlayers%E6%B7%BB%E5%8A%A0%E5%9C%B0%E5%9B%BE%E5%9F%BA%E6%9C%AC%E6%8E%A7%E4%BB%B6.html" data-v-4f4b2eff><!--[--><span class="desc" data-v-4f4b2eff>Previous page</span><span class="title" data-v-4f4b2eff>vue3+vite+openlayers添加地图基本控件</span><!--]--></a></div><div class="pager" data-v-4f4b2eff><a class="VPLink link pager-link next" href="/vitepress-blog/TechBlogs/GIS/MapServer/%E5%9F%BA%E4%BA%8Emapserver%E7%9A%84%E5%88%87%E7%89%87%E7%BC%93%E5%AD%98%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%EF%BC%88mapchache.xml%E6%96%87%E4%BB%B6%EF%BC%89.html" data-v-4f4b2eff><!--[--><span class="desc" data-v-4f4b2eff>Next page</span><span class="title" data-v-4f4b2eff>基于mapserver的切片缓存服务配置（mapchache.xml文件）</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"algorithm_index.md\":\"CG7Z0MPM\",\"backend_express_index.md\":\"CvLYgBKj\",\"backend_java_index.md\":\"BrFFOcVq\",\"backend_mysql_index.md\":\"CXLiqmWS\",\"backend_nest_index.md\":\"-9swaPcO\",\"backend_node_index.md\":\"0-hUefQ8\",\"codetear_index.md\":\"DV0UKcel\",\"codetear_js_index.md\":\"Oo6HcDom\",\"computerknowledge_browserknowledge_index.md\":\"Era4oydr\",\"computerknowledge_computernetwork_index.md\":\"C936Acs5\",\"frontend_css_index.md\":\"BMLXNM4x\",\"frontend_html_index.md\":\"AKdDO6YJ\",\"frontend_javascript_index.md\":\"JV709xew\",\"frontend_react_index.md\":\"DG8zL1gK\",\"frontend_typescript_index.md\":\"CSEhbSja\",\"frontend_vue_index.md\":\"DLnFfTyk\",\"index.md\":\"32cgwNEL\",\"sourcecode_vue_index.md\":\"CaJsTB35\",\"techblogs_electron_electron_vue3_ts_vite 从零开始搭建一个项目(1).md\":\"D6FNLAvK\",\"techblogs_electron_electron_vue3_ts_vite 从零开始搭建一个项目(2).md\":\"B2Jdkoc6\",\"techblogs_electron_electron_vue3_ts_vite 从零开始搭建一个项目(3).md\":\"DJ0Lyzx9\",\"techblogs_electron_index.md\":\"Ch6xC_kP\",\"techblogs_gis_index.md\":\"C0sySFxa\",\"techblogs_gis_mapserver_基于mapserver的切片缓存服务配置（mapchache.xml文件）.md\":\"vwFj46-b\",\"techblogs_gis_openlayers_vue3_vite_openlayers构建第一个地图.md\":\"lRoTpQWm\",\"techblogs_gis_openlayers_vue3_vite_openlayers添加地图基本控件.md\":\"CxSsobns\",\"techblogs_gis_openlayers_vue3_vite_openlayers绘制图形.md\":\"CpLwl_Q4\",\"techblogs_index.md\":\"CAUs3gRo\",\"techblogs_others_index.md\":\"DKoHOLyI\",\"techblogs_others_js小工具(不定期更新...).md\":\"KwTjxfRE\",\"techblogs_others_常用git指令总结.md\":\"BukqQBGc\",\"techblogs_others_浏览器中的位置信息.md\":\"Byh9NFee\",\"techblogs_others_简易版虚拟滚动.md\":\"D7DPumwa\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"路遥知码力\",\"description\":\"A VitePress site\",\"base\":\"/vitepress-blog/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"主页\",\"link\":\"/\"},{\"text\":\"技术博客\",\"items\":[{\"text\":\"GIS\",\"link\":\"/TechBlogs/GIS/\"},{\"text\":\"Electron\",\"link\":\"/TechBlogs/Electron/\"},{\"text\":\"其他\",\"link\":\"/TechBlogs/Others/\"}]},{\"text\":\"前端知识\",\"items\":[{\"text\":\"JavaScript\",\"link\":\"/FrontEnd/JavaScript/\"},{\"text\":\"HTML\",\"link\":\"/FrontEnd/HTML/\"},{\"text\":\"CSS\",\"link\":\"/FrontEnd/CSS/\"},{\"text\":\"TypeScript\",\"link\":\"/FrontEnd/TypeScript/\"},{\"text\":\"Vue\",\"link\":\"/FrontEnd/Vue/\"},{\"text\":\"React\",\"link\":\"/FrontEnd/React/\"}]},{\"text\":\"后端知识\",\"items\":[{\"text\":\"Node\",\"link\":\"/BackEnd/Node/\"},{\"text\":\"Nest\",\"link\":\"/BackEnd/Nest/\"},{\"text\":\"Express\",\"link\":\"/BackEnd/Express/\"},{\"text\":\"Mysql\",\"link\":\"/BackEnd/Mysql/\"},{\"text\":\"Java\",\"link\":\"/BackEnd/Java/\"}]},{\"text\":\"手撕代码\",\"link\":\"/CodeTear/\"},{\"text\":\"源码学习\",\"items\":[{\"text\":\"Vue\",\"link\":\"/SourceCode/Vue/\"}]},{\"text\":\"算法学习\",\"link\":\"/Algorithm/\"},{\"text\":\"计算机基础\",\"items\":[{\"text\":\"计算机网络\",\"link\":\"/ComputerKnowledge/ComputerNetwork/\"},{\"text\":\"浏览器\",\"link\":\"/ComputerKnowledge/BrowserKnowledge/\"}]}],\"sidebar\":{\"/TechBlogs/GIS\":[{\"items\":[{\"text\":\"Openlayers\",\"items\":[{\"text\":\"vue3+vite+openlayers构建第一个地图\",\"link\":\"/TechBlogs/GIS/OpenLayers/vue3+vite+openlayers构建第一个地图\"},{\"text\":\"vue3+vite+openlayers添加地图基本控件\",\"link\":\"/TechBlogs/GIS/OpenLayers/vue3+vite+openlayers添加地图基本控件\"},{\"text\":\"vue3+vite+openlayers绘制图形\",\"link\":\"/TechBlogs/GIS/OpenLayers/vue3+vite+openlayers绘制图形\"}]},{\"text\":\"MapServer\",\"items\":[{\"text\":\"基于mapserver的切片缓存服务配置（mapchache.xml文件）\",\"link\":\"/TechBlogs/GIS/MapServer/基于mapserver的切片缓存服务配置（mapchache.xml文件）\"}]}]}],\"/TechBlogs/Electron\":[{\"text\":\"electron+vue3+ts+vite 从零开始搭建一个项目(1)\",\"link\":\"/TechBlogs/Electron/electron+vue3+ts+vite 从零开始搭建一个项目(1)\"},{\"text\":\"electron+vue3+ts+vite 从零开始搭建一个项目(2)\",\"link\":\"/TechBlogs/Electron/electron+vue3+ts+vite 从零开始搭建一个项目(2)\"},{\"text\":\"electron+vue3+ts+vite 从零开始搭建一个项目(3)\",\"link\":\"/TechBlogs/Electron/electron+vue3+ts+vite 从零开始搭建一个项目(3)\"}],\"/TechBlogs/Others\":[{\"text\":\"常用git指令总结\",\"link\":\"/TechBlogs/Others/常用git指令总结\"},{\"text\":\"浏览器中的位置信息\",\"link\":\"/TechBlogs/Others/浏览器中的位置信息\"},{\"text\":\"JS小工具(不定期更新...)\",\"link\":\"/TechBlogs/Others/JS小工具(不定期更新...)\"},{\"text\":\"简易版虚拟滚动\",\"link\":\"/TechBlogs/Others/简易版虚拟滚动\"}],\"/CodeTear/\":[{\"text\":\"JS\",\"link\":\"/CodeTear/JS/\"}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/CodingAndSleeping\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>